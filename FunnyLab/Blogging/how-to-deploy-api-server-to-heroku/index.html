<!DOCTYPE html>
<html lang="ko" class="js csstransforms3d" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.58.3" />
    <meta name="description" content="MSFL 운영 중에 접한 각종 정보들을 정리한 지식 저장소입니다.">
<meta name="author" content="MSFL">


<meta property="og:title" content="OGP API 서버 Heroku에 배포하기">

    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2019-12-09">

    <meta property="og:description" content="">
    <meta property="og:url" content="http://ccambo.github.io/FunnyLab/Blogging/how-to-deploy-api-server-to-heroku/">
    <meta property="og:site_name" content="[ MSFL-지식 저장소 ]">


    <meta property="og:tags" content="API Server">

    <meta property="og:tags" content="Heroku">

    <meta property="og:tags" content="Open Graph">

    <meta property="og:tags" content="OGP">



    <link rel="icon" href="/images/favicon.png" type="image/png">

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-83841390-5', 'auto');
	
	ga('send', 'pageview');
}
</script>

    <title>OGP API 서버 Heroku에 배포하기 :: [ MSFL-지식 저장소 ]</title>

    
    <link href="/css/nucleus.css?1576229598" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1576229598" rel="stylesheet">
    <link href="/css/hybrid.css?1576229598" rel="stylesheet">
    <link href="/css/featherlight.min.css?1576229598" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1576229598" rel="stylesheet">
    <link href="/css/auto-complete.css?1576229598" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1576229598" rel="stylesheet">
    <link href="/css/theme.css?1576229598" rel="stylesheet">
    <link href="/css/hugo-theme.css?1576229598" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1576229598"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    <script data-ad-client="ca-pub-1122795820579236" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  </head>
  <body class="" data-url="/FunnyLab/Blogging/how-to-deploy-api-server-to-heroku/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">
   <img src="/images/logo.png" alt="[ MSFL-지식 저장소 ]">
   <span>[ MSFL-지식 저장소 ]</span>
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1576229598"></script>
<script type="text/javascript" src="/js/auto-complete.js?1576229598"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/ccambo.github.io\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1576229598"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/Git/" title="Git" class="dd-item 
        
        
        
        ">
      <a href="/Git/">
          <b>1. </b>Git
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/Git/Basics/" title="Basics" class="dd-item 
        
        
        parent
        ">
      <a href="/Git/Basics/">
          Basics
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/Git/Submdule/" title="Submodule" class="dd-item 
        
        
        
        ">
      <a href="/Git/Submdule/">
          Submodule
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/Git/Submdule/what-is-the-submodule/" title="What is the submodule" class="dd-item ">
        <a href="/Git/Submdule/what-is-the-submodule/">
        What is the submodule
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/Git/Tips/" title="Tips" class="dd-item 
        
        
        
        ">
      <a href="/Git/Tips/">
          Tips
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/Git/Tips/how-to-change-users/" title="How to Change Users" class="dd-item ">
        <a href="/Git/Tips/how-to-change-users/">
        How to Change Users
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/Cloud/" title="Cloud" class="dd-item 
        
        
        
        ">
      <a href="/Cloud/">
          <b>2. </b>Cloud
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/Cloud/Concepts/" title="Concepts" class="dd-item 
        
        
        
        ">
      <a href="/Cloud/Concepts/">
          Concepts
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/Cloud/Concepts/edge-computing/" title="Edge Computing" class="dd-item ">
        <a href="/Cloud/Concepts/edge-computing/">
        Edge Computing
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/Cloud/Docker/" title="Docker" class="dd-item 
        
        
        
        ">
      <a href="/Cloud/Docker/">
          Docker
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/Cloud/Docker/Tips/" title="Tips" class="dd-item 
        
        
        
        ">
      <a href="/Cloud/Docker/Tips/">
          Tips
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/Cloud/Kubernetes/" title="Kubernetes" class="dd-item 
        
        
        
        ">
      <a href="/Cloud/Kubernetes/">
          Kubernetes
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/Dev/" title="Dev" class="dd-item 
        
        
        
        ">
      <a href="/Dev/">
          <b>3. </b>Dev
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/Dev/Vue/" title="Vue" class="dd-item 
        
        
        
        ">
      <a href="/Dev/Vue/">
          Vue
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/Dev/Vue/intro_key_of_vue/" title="Vue 키 포인트 소개" class="dd-item ">
        <a href="/Dev/Vue/intro_key_of_vue/">
        Vue 키 포인트 소개
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/Dev/Vue/vue/" title="Vue 기본 개념" class="dd-item ">
        <a href="/Dev/Vue/vue/">
        Vue 기본 개념
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/Dev/Vue/How-to-solving-the-problems-in-vuetify-upgrade-to-v2.x/" title="Vuetify v2.x 업그레이드" class="dd-item ">
        <a href="/Dev/Vue/How-to-solving-the-problems-in-vuetify-upgrade-to-v2.x/">
        Vuetify v2.x 업그레이드
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/Dev/Web/" title="Web" class="dd-item 
        
        
        
        ">
      <a href="/Dev/Web/">
          Web
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/Dev/Web/npm_vs_yarn/" title="NPM vs YARN" class="dd-item ">
        <a href="/Dev/Web/npm_vs_yarn/">
        NPM vs YARN
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/Dev/Go/" title="Go" class="dd-item 
        
        
        
        ">
      <a href="/Dev/Go/">
          Go
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/FunnyLab/" title="FunnyLab" class="dd-item 
        parent
        
        
        ">
      <a href="/FunnyLab/">
          <b>4. </b>FunnyLab
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/FunnyLab/Blogging/" title="Blogging" class="dd-item 
        parent
        
        
        ">
      <a href="/FunnyLab/Blogging/">
          Blogging
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/FunnyLab/Blogging/change-comments-to-utterances/" title="댓글 시스템 utterances로 변경" class="dd-item ">
        <a href="/FunnyLab/Blogging/change-comments-to-utterances/">
        댓글 시스템 utterances로 변경
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/FunnyLab/Blogging/how-to-deploy-api-server-to-heroku/" title="OGP API 서버 Heroku에 배포하기" class="dd-item active">
        <a href="/FunnyLab/Blogging/how-to-deploy-api-server-to-heroku/">
        OGP API 서버 Heroku에 배포하기
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> </a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <p style="position:absolute;right:5%">
    © 2019 MSFL :: ccambo (Morris Chang)
  </p>
  </br>
  
  <p style="position:absolute;right:5%">
    Powered by
    <a href="//gohugo.io" target="_blank">HUGO</a>
  </p>
  </br>
  <p style="position:absolute;right:5%">
    Theme by
    <a href="//themes.gohugo.io/hugo-theme-learn/" target="_blank">LEARN (Mathieu Cornic)</a>
  </p>
    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>MSFL</a> > <a href='/FunnyLab/'>FunnyLab</a> > <a href='/FunnyLab/Blogging/'>Blogging</a> > OGP API 서버 Heroku에 배포하기
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#ogp란">OGP란?</a></li>
<li><a href="#ogp를-위한-api-구성하기">OGP를 위한 API 구성하기</a></li>
<li><a href="#heroku-계정설정">Heroku 계정설정</a>
<ul>
<li><a href="#heroku-사이트에-계정-생성">Heroku 사이트에 계정 생성</a></li>
<li><a href="#heroku-cli-설치">Heroku CLI 설치</a></li>
</ul></li>
<li><a href="#ogp-처리를-위한-api-구성-로컬-pc">OGP 처리를 위한 API 구성 (로컬 PC)</a></li>
<li><a href="#heroku에-배포하기">Heroku에 배포하기</a></li>
<li><a href="#결론">결론</a></li>
<li><a href="#참고자료">참고자료</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
<div class="tags">

  <a class="tag-link" href="/tags/API-Server">API Server</a>

  <a class="tag-link" href="/tags/Heroku">Heroku</a>

  <a class="tag-link" href="/tags/Open-Graph">Open Graph</a>

  <a class="tag-link" href="/tags/OGP">OGP</a>

</div>

        </div>
        
        <div id="body-inner">
          
            <h1>
              
              OGP API 서버 Heroku에 배포하기
            </h1>
          

        




	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1122795820579236"
     data-ad-slot="8454132912"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>





<div class="notices info" ><p>이 문서는 블로그에서 외부 게시글에 대한 미리보기를 작성하면서 Open Graph를 적용하는 방법을 정리한 것입니다.</br>
Hugo나 Hexo를 기준으로 적용하는데 필요한 OGP 처리용 API Server를 구성하는 내용이므로 OGP에 대한 상세한 내용은 아래의 참고 자료를 활용하시기 바랍니다.</br>
<strong>기본적인 개발 환경은 이미 활용하는 것으로 가정하고 git / vscode / macbook을 기준으로 설명합니다</strong></p>
</div>


<h2 id="ogp란">OGP란?</h2>

<p>오픈그래프 (Open Graph)는 <strong>HTML 메타 태그의 종류 중의 하나</strong>로 사용성에 약간의 차이를 가진다. SNS에서 그 개념이 시작되었는데, SNS에 링크를 걸어 놓으면 이 링크가 어떤 데이터를 가지고 있는지를 알 수 있는 방법이 없기 때문에 링크에 대한 미리보기로써 이미지, 설명, 제목등을 나타내기 위한 태그들이다.</p>

<p>오픈그래프에 대해서는 <a href="https://ogp.me/">The Open Graph Protocol</a> 사이트를 참고하면 된다.</p>

<p>오픈 그래프의 기본적인 태그들을 다음과 같다.</p>







<table><caption class=top>기본 태그들</caption>
<thead>
<tr>
<th align="left">Tag</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><strong>og:title</strong></td>
<td align="left">사이트의 제목 태그</td>
</tr>

<tr>
<td align="left"><strong>og:type</strong></td>
<td align="left">사이트의 종류 스타일 태그 (ex. website, video, movie, &hellip;)</td>
</tr>

<tr>
<td align="left"><strong>og:image</strong></td>
<td align="left">사이트의 대표 이미지 태그</td>
</tr>

<tr>
<td align="left"><strong>og:url</strong></td>
<td align="left">사이트의 대표 URL 태그</td>
</tr>
</tbody>
</table>


<p>옵션으로 적용할 수 있는 태그들을 다음과 같다.</p>







<table><caption class=top>옵션 태그들</caption>
<thead>
<tr>
<th align="left">Tag</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><strong>og:audio</strong></td>
<td align="left">사이트의 포함되는 Audio 파일 태그</td>
</tr>

<tr>
<td align="left"><strong>og:description</strong></td>
<td align="left">사이트의 설명 태그</td>
</tr>

<tr>
<td align="left"><strong>og:determiner</strong></td>
<td align="left">사이트의 구분자 태그</td>
</tr>

<tr>
<td align="left"><strong>og:locale</strong></td>
<td align="left">사이트의 언어 태그 (기본 값은 en_US, 한글은 ko_KR, &hellip;)</td>
</tr>

<tr>
<td align="left"><strong>og:locale:alternate</strong></td>
<td align="left">사이트의 다국어일 경우 대체 언어 태그</td>
</tr>

<tr>
<td align="left"><strong>og:site_name</strong></td>
<td align="left">사이트의 세부 카테고리 의미 태그</td>
</tr>

<tr>
<td align="left"><strong>og:video</strong></td>
<td align="left">사이트의 포함되는 Video 파일 태그</td>
</tr>
</tbody>
</table>


<p>추가적으로 객체들 (Image, Audio, Video, &hellip;)에 대한 구조 속성 태그들은 다음과 같다.</p>







<table><caption class=top>객체 구조 태그들</caption>
<thead>
<tr>
<th align="left">Tag</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><strong>og:object 또는 og:object:url</strong></td>
<td align="left">객체의 경로 (eg. Image, Audio, Video, &hellip;) 태그</td>
</tr>

<tr>
<td align="left"><strong>og:object:secure_url</strong></td>
<td align="left">SSL/TLS(HTTPS) 경로 태그</td>
</tr>

<tr>
<td align="left"><strong>og:object:type</strong></td>
<td align="left">객체 유형 태그 (eg. image/jpeg, application/x-shockwave-flash, audio/mpeg, &hellip;)</td>
</tr>

<tr>
<td align="left"><strong>og:object:width</strong></td>
<td align="left">객체 너비 태그</td>
</tr>

<tr>
<td align="left"><strong>og:object:height</strong></td>
<td align="left">객체 높이 태그</td>
</tr>

<tr>
<td align="left"><strong>og:object:alt</strong></td>
<td align="left">객체 설명 태그</td>
</tr>
</tbody>
</table>


<h2 id="ogp를-위한-api-구성하기">OGP를 위한 API 구성하기</h2>

<p><strong>API 구성의 목적은 링크 URL이 지정되면 해당 URL의 HTML 내용 중에서 Head 태그 내의 Open Graph 정보를 추출해서 JSON 형식으로 반환</strong>하는 것이다. 이 정보를 기준으로 각 블로그 툴 (SSG : Static Site Generator)에서는 SNS처럼 게시글 링크를 표시하는 Preview Box를 구성하게 된다.</p>

<p>가장 먼저할 것은 API를 구동해서 사용할 수 있는 무료로 지원되는 호스팅 서버를 결정하는 것이다. 처음에는 <a href="https://firebase.google.com/?gclid=Cj0KCQiA_rfvBRCPARIsANlV66P9v9GfH4kGuEchDSy7X3wEjqPQZdfN1BS3sAB0J7S_kaLLYMz8xVoaAnY1EALw_wcB">firebase</a>를 검토해서 구현을 했지만 외부 URL을 긁어와야 하는 부분에서 Firebase는 외부로 연계되는 경우 무료 계정에서는 사용할 수 없는 제한이 존재하기 때문에 <a href="https://www.heroku.com/">Heroku</a> 를 이용하는 것으로 결정했다.</p>


<div class="notices info" ><p>AWS, Azure, GCP 등의 외부에서 호출해서 결과를 받을 수 있는 호스팅을 이미 할 수 있는 계정이 존재한다면 그것을 이용해도 된다.</p>
</div>


<p>가장 먼저 시작해야 할 것이 Heroku의 계정을 만드는 것이다.</p>

<h2 id="heroku-계정설정">Heroku 계정설정</h2>


<div class="notices info" ><p>Heroku는 Git 기반으로 운영되기 때문에 당연히 로컬 PC에 git가 설치되어 있어야 한다.</p>
</div>


<h3 id="heroku-사이트에-계정-생성">Heroku 사이트에 계정 생성</h3>

<p><strong>무료 계정은 아래와 같은 제한이 있다</strong></p>

<ul>
<li>30분간 접속이 없으면 사이트를 Sleep 시킨다. (요청이 들어와서 재 구동되는데 10~30초 정도 걸림)</li>
<li>계정 당 한달에 550시간만 사용 가능하다. 계정에 사이트가 여러 개인 경우는 합산 시간을 기준으로 한다.</li>
</ul>

<figure class="image">
    <img src="/images/content/heroku_001.png?featherlight=false" alt="회원가입">
    <figcaption><b>[ 회원가입 ]</b></figcaption>
</figure>

<p>아래와 같이 정보를 등록하고 &ldquo;Create Free Account&rdquo; 버튼을 눌러서 가입하면 된다. 기본적으로 사용하는 언어는 본인이 주로 사용하는 언어를 선택하면 된다.</p>

<figure class="image">
    <img src="/images/content/heroku_002.png?featherlight=false" alt="회원정보설정">
    <figcaption><b>[ 회원정보설정 ]</b></figcaption>
</figure>

<h3 id="heroku-cli-설치">Heroku CLI 설치</h3>

<p>Heroku는 Git기반이기 때문에 로컬 PC에서 작업하고 Heroku로 Push해서 처리하면 된다. 따라서 Heroku 연동을 위한 CLI (Command Line Interface)를 설치해야 한다.</p>

<ul>
<li><p>heroku 사이트에 로그인한 후에 다운로드로 이동해서 플랫폼에 맞는 것을 다운로드해서 설치 (아래 그림의 빨간색 처리 부분을 통해서 이동)
<figure class="image">
<img src="/images/content/heroku_003.png?featherlight=false" alt="CLI 설치 페이지">
<figcaption><b>[ CLI 설치 페이지 ]</b></figcaption>
</figure></p></li>

<li><p><a href="https://devcenter.heroku.com/articles/heroku-cli#download-and-install">설치 페이지</a>의 내용대로 설치</p></li>
</ul>

<p><strong>Heroku CLI 주요 명령 정리</strong></p>







<table><caption class=top>Heroku CLI Commands</caption>
<thead>
<tr>
<th align="left">Command</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><strong>heroku login</strong></td>
<td align="left">로그인</td>
</tr>

<tr>
<td align="left"><strong>heroku logout</strong></td>
<td align="left">로그인은 재부팅을 하더라도 지속성을 가지므로 로그아웃을 원할 경우는 이 명령을 수행해야 한다.</td>
</tr>

<tr>
<td align="left"><strong>heroku create [프로젝트 이름]</strong></td>
<td align="left">Git 저장소와 연결될 폴더에서 새로운 프로젝트를 생성하는 명령으로 &ldquo;프로젝트 이름&rdquo;을 주지 않으면 랜덤으로 생성되고 URL과 연계되므로 프로젝트 이름을 지정하는 것이 좋다.</td>
</tr>

<tr>
<td align="left"><strong>heroku remote -v</strong></td>
<td align="left">생성된 프로젝트의 원격 저장소 정보를 보는 것으로 <strong>로컬 저장소는 &ldquo;heroku&rdquo; 라는 이름으로 생성</strong>된다.</td>
</tr>

<tr>
<td align="left"><strong>heroku git:remote -a 프로젝트 이름</strong></td>
<td align="left">위의 create가 새로운 프로젝트를 생성하는 것이라면 이미 존재하는 프로젝트에 연결하는 것은 이 명령으로 프로젝트를 지정하면 된다.</td>
</tr>

<tr>
<td align="left"><strong>heroku config:set [키=값]</strong></td>
<td align="left">프로젝트와 연계되는 저장소에 환경 변수를 설정한다.</td>
</tr>

<tr>
<td align="left"><strong>heroku config</strong></td>
<td align="left">프로젝트와 연계되는 저장소에 설정되어 있는 환경 변수들을 출력한다.</td>
</tr>

<tr>
<td align="left"><strong>heroku config:get [키]</strong></td>
<td align="left">프로젝트와 연계되는 저장소에 설정되어 있는 환경 변수들 중에서 지정한 키의 값을 출력한다.</td>
</tr>

<tr>
<td align="left"><strong>heroku config:unset [키]</strong></td>
<td align="left">프로젝트와 연계되는 저장소에 설정되어 있는 환경 변수들 중에서 지정한 키의 환경 변수를 삭제한다.</td>
</tr>

<tr>
<td align="left"><strong>heroku logs [&ndash;tail]</strong></td>
<td align="left">Heroku에서 구동된 서버의 Console log를 출력한다. 테스트 중에 오류나 디버그 용도로 사용한다.</td>
</tr>
</tbody>
</table>



<div class="notices warning" ><p>Heroku의 프로젝트 이름은 저장소 명칭일뿐만 아니라 향후 외부로 노출될 App 식별명이기도 하므로 반드시 잘 생각해보고 생성해야 한다.</br>
외부에서 접속하는 주소는 [프로젝트 명].herokuapp.com 으로 생성된다.</p>
</div>


<h2 id="ogp-처리를-위한-api-구성-로컬-pc">OGP 처리를 위한 API 구성 (로컬 PC)</h2>

<p>아주 간단한 OGP API Server를 구성할 것이기 때문에 <span style="color:red;font-weight:bold">
  node + express + ogp_parser 조합
</span>
으로 아래와 같이 소스를 구성한다.</p>

<figure class="code">
  <figcaption>
    <span>기본 설치 작업</span>
  </figcaption>
  <div class="codewrapper">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ npm init    <span style="color:#75715e"># package.json 구성</span>
$ npm install express --save    <span style="color:#75715e"># node express 설치</span>
$ npm install ogp-parser --save <span style="color:#75715e"># ogp-parser 설치</span></code></pre></div>
  </div>
</figure>

<p>위와 같이 기본적인 설치를 한 후에 package.json 파일을 열고 나머지 부분을 구성하도록 한다.</p>

<figure class="code">
  <figcaption>
    <span>전체 package.json 파일</span>
  </figcaption>
  <div class="codewrapper">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>{
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;ogp-to-json&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;0.0.1&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;지정한 URL 정보를 기준으로 Open Graph 정보를 추출해서 JSON 형식으로 반환합니다.&#34;</span>,
<span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  <span style="color:#f92672">&#34;main&#34;</span>: <span style="color:#e6db74">&#34;index.js&#34;</span>,
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  <span style="color:#f92672">&#34;scripts&#34;</span>: {
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;node ./&#34;</span>
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>  },
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  <span style="color:#f92672">&#34;keywords&#34;</span>: [
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    <span style="color:#e6db74">&#34;Open Graph&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>    <span style="color:#e6db74">&#34;ogp&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    <span style="color:#e6db74">&#34;Heroku&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>  ],
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>  <span style="color:#f92672">&#34;author&#34;</span>: <span style="color:#e6db74">&#34;morris chang&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>  <span style="color:#f92672">&#34;license&#34;</span>: <span style="color:#e6db74">&#34;MIT&#34;</span>,
<span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>  <span style="color:#f92672">&#34;engines&#34;</span>: {
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>    <span style="color:#f92672">&#34;node&#34;</span>: <span style="color:#e6db74">&#34;v13.2.0&#34;</span>,
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>    <span style="color:#f92672">&#34;npm&#34;</span>: <span style="color:#e6db74">&#34;6.13.2&#34;</span>
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>  },
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>  <span style="color:#f92672">&#34;dependencies&#34;</span>: {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>    <span style="color:#f92672">&#34;express&#34;</span>: <span style="color:#e6db74">&#34;^4.17.1&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>    <span style="color:#f92672">&#34;ogp-parser&#34;</span>: <span style="color:#e6db74">&#34;^0.4.4&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>  }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>}</code></pre></div>
  </div>
</figure>

<p>위의 package.json 파일의 내용 중에 아래 서술한 부분은 로컬테스트와 Heroku에서 실행될 정보를 구성한 것이다.</p>

<ul>
<li><strong>scripts</strong> : 로컬 및 Heroku에서 npm을 통해서 실행할 명령이다. (eg. npm start)</li>
<li><strong>main</strong> : scripts/start에 &ldquo;node ./&rdquo; 으로 지정하면 main에 설정된 파일을 처리한다. main 지정이 없을 경우는 scripts/start를 &ldquo;node ./index.js&rdquo;로 해 줘야 한다.</li>
<li><strong>engines</strong> : Heroku에서 실행될 node와 npm에 대한 버전 정보를 지정한 것이다. (별다른 문제가 없다면 로컬에 설치된 버전을 그대로 이용하면 된다.)

<ul>
<li>버전 정보를 모를 경우는 <code>node -v, npm -v</code> 명령으로 현재 설치된 버전 확인이 가능하다.</li>
</ul></li>
</ul>

<p>index.js 파일에 아래와 같이 코드를 구성한다.</p>

<figure class="code">
  <figcaption>
    <span>index.js</span>
  </figcaption>
  <div class="codewrapper">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-node" data-lang="node"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>const express = require(&#39;express&#39;);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>const app = express();
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>const PORT = process.env.PORT || 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>// 호출 url : opg-to-json.herokuapp.com/ogp?url=.....
<span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>app.get(&#34;/ogp&#34;, (req, res) =&gt; {
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    const parser = require(&#39;ogp-parser&#39;);
<span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>    const params = req.query;
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    const cacheControl = &#39;public, max-age=31557600, s-maxage=31557600&#39;;     // cache 1year
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>
<span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    if (!params.hasOwnProperty(&#39;url&#39;)) {
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>        console.error(&#39;Error getting ogp data: Please provide url parameter&#39;);
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>        return res.json({error: &#39;Error getting ogp data: Please provide url parameter&#39;});
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>
<span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>    return parser(encodeURI(params[&#39;url&#39;]), false)
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>        .then((data) =&gt; {
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>            console.log(data);
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>            console.log(params[&#39;url&#39;]);
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>            if (!data.hasOwnProperty(&#39;title&#39;)) {
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>                console.error(&#39;Error getting ogp data: no ogpData returned&#39;);
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>                return res.json({error: &#39;No OGP data returned from given url&#39;});
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>            }
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>            let ogpData = {};
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span>            ogpData[&#39;siteName&#39;] = data.title;
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span>            for(let prop in data.ogp) {
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span>                if (/^og:/g.test(prop)) {
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span>                    ogpData[prop.split(&#39;:&#39;)[1]] = data.ogp[prop][0];
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span>                }
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span>            }
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32</span>            return res.set(&#39;Cache-Control&#39;, cacheControl).json(ogpData);
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33</span>        })
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34</span>        .catch((err) =&gt; {
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35</span>            console.error(&#39;Error getting ogp data: &#39; + err);
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36</span>            return res.json({error: err});
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37</span>        });
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38</span>});
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39</span>
<span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40</span>app.listen(PORT, err =&gt; {
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41</span>    if (err) throw err;
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42</span>    console.log(&#34;%c Server running&#34;, &#34;color:green&#34;);
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43</span>});</span></code></pre></div>
  </div>
</figure>

<p>위의 코드는 아래와 같이 처리를 위한 정보를 구성하고 있다.</p>

<ul>
<li><strong>line 3</strong> : express 서버 인스턴스 생성</li>
<li><strong>line 4</strong> : express가 리스닝할 포트를 지정한다. heroku에서는 환경변수에서 PORT를 할당받는 방식을 선택해야 한다.</li>
<li><strong>line 7</strong> : &ldquo;ogp&rdquo; 패스로 Request가 오면 처리를 수행하는 핸들러를 구성한다.</li>
<li><strong>line 9</strong> : Request로 전달된 Parameter들을 변수에 할당한다.</li>
<li><strong>line 12</strong> : Request의 Query String으로 &ldquo;url&rdquo;이 전달되었는지를 검사한다.</li>
<li><strong>line 13-14</strong> : &ldquo;url&rdquo; 이 없다면 오류 처리</li>
<li><strong>line 17</strong> : &ldquo;ogp-parser&rdquo;를 이용해서 지정된 &ldquo;Url&rdquo;의 데이터를 읽어서 OGP 데이터 추출</li>
<li><strong>line 18-33</strong> : OGP 데이터의 존재 여부 검증 및 캐시 데이터 및 반환 데이터 처리와 오류 발생시 처리</li>
<li><strong>line 40-43</strong> : express가 지정한 포트의 요청을 받을 수 있도록 구동</li>
</ul>

<p>이제 로컬에서 먼저 실행을 해서 정상적인 OGP json이 반환되고 있는지를 확인해 보면 된다.</p>

<figure class="code">
  <figcaption>
    <span>shell에서 실행 검증</span>
  </figcaption>
  <div class="codewrapper">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ npm start
$ curl <span style="color:#e6db74">&#34;http://localhost/ogp?url=http://ccambo.gitlab.io/2017/07/09/VSCODE-VSCode%EC%97%90-Git-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/&#34;</span></code></pre></div>
  </div>
</figure>

<p>정상적으로 JSON 포맷의 OGP 데이터가 출력되는 것을 확인했으면 이제 Heroku에 배포를 하면 된다.</p>

<h2 id="heroku에-배포하기">Heroku에 배포하기</h2>

<p>Heroku가 git 기반으로 동작한다고 이야기를 했으므로 git 저장소 생성(프로젝트 생성)을 진행한다.</p>

<figure class="code">
  <figcaption>
    <span>shell에서 git구성 및 Heroku 프로젝트 생성 (로컬 프로젝트 폴더)</span>
  </figcaption>
  <div class="codewrapper">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ git init        <span style="color:#75715e"># 프로젝트 폴더에 git 저장소 구성</span>
$ heroku login    <span style="color:#75715e"># heroku에 로그인 id/pw를 입력해서 처리 (이미 되어있는 경우는 Skip)</span>
$ heroku create <span style="color:#f92672">[</span>프로젝트 이름<span style="color:#f92672">]</span>   <span style="color:#75715e"># heroku에 프로젝트(저장소) 생성</span>
Creating ⬢ <span style="color:#f92672">[</span>프로젝트 이름<span style="color:#f92672">]</span>... <span style="color:#66d9ef">done</span>
https://<span style="color:#f92672">[</span>프로젝트 이름<span style="color:#f92672">]</span>.herokuapp.com/ | https://git.heroku.com/<span style="color:#f92672">[</span>프로젝트 이름<span style="color:#f92672">]</span>.git     <span style="color:#75715e"># heroku 서버 접속 URL 및 Git 저장소 URL 표시</span></code></pre></div>
  </div>
</figure>

<p>생성이 끝나면 Heroku 프로젝트 접속용 URL과 Git 저장소 URL이 출력된다. 이를 이용해서 로컬 저장소를 Heroku 저장소와 연결한다.</p>

<figure class="code">
  <figcaption>
    <span>shell에서 원격 저장소 연결 (로컬 프로젝트 폴더)</span>
  </figcaption>
  <div class="codewrapper">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ git remote add heroku <span style="color:#f92672">[</span>프로젝트 Git 저장소 URL<span style="color:#f92672">]</span>   <span style="color:#75715e"># 위에서 출력된 GIt 저장소 URL 사용</span></code></pre></div>
  </div>
</figure>

<p>만일 해당 출력을 확인하지 못해서 git 저장소 URL을 모를 경우는 Heroku에 접속해서 Dashboard로 이동한 후에 생성한 프로젝트의 &ldquo;Settings&rdquo; 정보를 통해서 확인할 수 있다.</p>

<figure class="image">
    <img src="/images/content/heroku_004.png?featherlight=false" alt="Heroku Dashboard 페이지에서 프로젝트 선택">
    <figcaption><b>[ Heroku Dashboard 페이지에서 프로젝트 선택 ]</b></figcaption>
</figure>

<p>이제 저장소 연결이 완성되었으므로 로컬의 소스를 Heroku에 올리면 된다. (일반적인 git 처리와 동일하다)</p>

<figure class="code">
  <figcaption>
    <span>shell에서 Heroku로 소스 올리기</span>
  </figcaption>
  <div class="codewrapper">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ git add .   <span style="color:#75715e"># 변경된 파일들 stage 처리</span>
$ git commit -m <span style="color:#e6db74">&#34;커밋 메시지&#34;</span>   <span style="color:#75715e"># stage를 로컬 저장소에 commit</span>
$ git push heroku master        <span style="color:#75715e"># 로컬 저장소(heroku)의 commit 내용을 Heroku (master)로 push (upload)</span>
$ heroku open                   <span style="color:#75715e"># 저장소에 올려진 소스를 기반으로 Heroku Application 구동</span></code></pre></div>
  </div>
</figure>

<p>별다른 오류가 없었다면 <span style="color:red;font-weight:bold">
  heroku open
</span>
로 실행된 브라우저는 당연히 <strong>Cannot GET /</strong> 라는 오류가 발생하는 것이 정상이다.</p>

<p>위에서 구동한 소스가 <strong>/ogp</strong> 패스에 대해서만 동작하도록 구성했기 때문으로 정상적으로 구동된 것을 확인할 수 있다.</p>

<p>정상적인 결과를 확인하기 위해서는 열려있는 브라우저 주소 창에 다음과 같이 입력하면 된다.</p>

<figure class="code">
  <figcaption>
    <span>브라우저 주소창에 URL 설정</span>
  </figcaption>
  <div class="codewrapper">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">&#34;http://[프로젝트 이름].herokuapp.com/ogp?url=http://ccambo.gitlab.io/2017/07/09/VSCODE-VSCode%EC%97%90-Git-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/&#34;</code></pre></div>
  </div>
</figure>

<p>또는 터미널에서 아래와 같이 curl을 이용해서도 확인 가능하다.</p>

<figure class="code">
  <figcaption>
    <span>shell에서 URL 설정</span>
  </figcaption>
  <div class="codewrapper">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ curl <span style="color:#e6db74">&#34;http://[프로젝트 이름].herokuapp.com/ogp?url=http://ccambo.gitlab.io/2017/07/09/VSCODE-VSCode%EC%97%90-Git-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/&#34;</span></code></pre></div>
  </div>
</figure>

<h2 id="결론">결론</h2>

<p>위와 같이 처음으로 단순한 API Server를 로컬에서 구성해서 Git 기반의 무료 어플리케이션 호스팅인 Heroku에 올려서 처리하는 것을 확인해 보았다.</p>

<ul>
<li>무료 계정을 일부 제한이 존재한다.</li>
<li>Git 기반으로 통합되어 있다.</li>
<li>Heroku CLI를 기준으로 Heroku에 각종 처리를 수행한다.</li>
</ul>

<h2 id="참고자료">참고자료</h2>

<ul>
<li><a href="http://ogp.me/">Open Graph</a></li>
<li><a href="https://www.quicksprout.com/open-graph-tags/">How to Use Open Graph Tags</a></li>
<li><a href="https://morningbird.tistory.com/23">Heroku(무료 호스팅 서버) 설치 및 사용기</a></li>
<li><a href="https://medium.com/@yoobi55/express-node-js-%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%B4-%EC%84%9C%EB%B2%84%EB%A5%BC-%EB%A7%8C%EB%93%A4%EC%96%B4-heroku%EC%97%90-%EC%98%AC%EB%A6%AC%EB%8A%94-%EB%B0%A9%EB%B2%95-3a5134fc8743">express/node.js 를 이용해 서버를 만들어 heroku에 올리는 방법</a></li>
</ul>



	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1122795820579236"
     data-ad-slot="8454132912"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>




<script src="https://utteranc.es/client.js"
        repo="ccambo/blog-comments"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/FunnyLab/Blogging/change-comments-to-utterances/" title="댓글 시스템 utterances로 변경"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/FunnyLab/Blogging/change-comments-to-utterances/" title="댓글 시스템 utterances로 변경" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1576229598"></script>
    <script src="/js/perfect-scrollbar.min.js?1576229598"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1576229598"></script>
    <script src="/js/jquery.sticky.js?1576229598"></script>
    <script src="/js/featherlight.min.js?1576229598"></script>
    <script src="/js/highlight.pack.js?1576229598"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1576229598"></script>
    <script src="/js/learn.js?1576229598"></script>
    <script src="/js/hugo-learn.js?1576229598"></script>

    <link href="/mermaid/mermaid.css?1576229598" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1576229598"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

